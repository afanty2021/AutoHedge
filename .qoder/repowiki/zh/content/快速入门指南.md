# å¿«é€Ÿå…¥é—¨æŒ‡å—

<cite>
**æœ¬æ–‡æ¡£ä¸­å¼•ç”¨çš„æ–‡ä»¶**
- [README.md](file://README.md)
- [example.py](file://example.py)
- [requirements.txt](file://requirements.txt)
- [pyproject.toml](file://pyproject.toml)
- [autohedge/main.py](file://autohedge/main.py)
- [autohedge/__init__.py](file://autohedge/__init__.py)
- [api/api.py](file://api/api.py)
</cite>

## ç›®å½•
1. [ç®€ä»‹](#ç®€ä»‹)
2. [ç³»ç»Ÿè¦æ±‚](#ç³»ç»Ÿè¦æ±‚)
3. [ç¯å¢ƒå‡†å¤‡](#ç¯å¢ƒå‡†å¤‡)
4. [å®‰è£…æ­¥éª¤](#å®‰è£…æ­¥éª¤)
5. [åŸºç¡€ä½¿ç”¨](#åŸºç¡€ä½¿ç”¨)
6. [APIæœåŠ¡éƒ¨ç½²](#apiæœåŠ¡éƒ¨ç½²)
7. [å¸¸è§é—®é¢˜è§£å†³](#å¸¸è§é—®é¢˜è§£å†³)
8. [éªŒè¯å®‰è£…](#éªŒè¯å®‰è£…)
9. [ä¸‹ä¸€æ­¥](#ä¸‹ä¸€æ­¥)

## ç®€ä»‹

AutoHedgeæ˜¯ä¸€ä¸ªåŸºäºäººå·¥æ™ºèƒ½çš„è‡ªåŠ¨åŒ–å¯¹å†²åŸºé‡‘ç³»ç»Ÿï¼Œåˆ©ç”¨ç¾¤ä½“æ™ºèƒ½å’ŒAIä»£ç†æ¥è‡ªåŠ¨åŒ–å¸‚åœºåˆ†æã€é£é™©ç®¡ç†å’Œäº¤æ˜“æ‰§è¡Œã€‚æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨åœ¨10åˆ†é’Ÿå†…å®ŒæˆAutoHedgeç³»ç»Ÿçš„æœ¬åœ°éƒ¨ç½²å’Œé¦–æ¬¡è¿è¡Œã€‚

### æ ¸å¿ƒç‰¹æ€§
- **å¤šä»£ç†æ¶æ„**ï¼šä¸“é—¨çš„AIä»£ç†è´Ÿè´£ä¸åŒäº¤æ˜“æ–¹é¢çš„ä»»åŠ¡
- **å®æ—¶å¸‚åœºåˆ†æ**ï¼šé›†æˆå¸‚åœºæ•°æ®æä¾›å•†è¿›è¡Œå®æ—¶åˆ†æ
- **é£é™©ä¼˜å…ˆæ–¹æ³•**ï¼šå†…ç½®çš„é£é™©ç®¡ç†å’Œä»“ä½æ§åˆ¶
- **ç»“æ„åŒ–è¾“å‡º**ï¼šJSONæ ¼å¼çš„äº¤æ˜“å»ºè®®å’Œåˆ†æ
- **å…¨é¢æ—¥å¿—è®°å½•**ï¼šè¯¦ç»†çš„æ—¥å¿—ç³»ç»Ÿç”¨äºäº¤æ˜“è·Ÿè¸ªå’Œè°ƒè¯•

## ç³»ç»Ÿè¦æ±‚

### æœ€ä½è¦æ±‚
- **Pythonç‰ˆæœ¬**ï¼š3.10æˆ–æ›´é«˜ç‰ˆæœ¬
- **æ“ä½œç³»ç»Ÿ**ï¼šWindowsã€macOSæˆ–Linux
- **å†…å­˜**ï¼šè‡³å°‘4GB RAM
- **å­˜å‚¨ç©ºé—´**ï¼šè‡³å°‘2GBå¯ç”¨ç©ºé—´

### æ¨èé…ç½®
- **Pythonç‰ˆæœ¬**ï¼š3.10+
- **å†…å­˜**ï¼š8GB+ RAM
- **ç½‘ç»œè¿æ¥**ï¼šç¨³å®šçš„äº’è”ç½‘è¿æ¥

**èŠ‚æ¥æº**
- [pyproject.toml](file://pyproject.toml#L25-L25)
- [README.md](file://README.md#L30-L33)

## ç¯å¢ƒå‡†å¤‡

### 1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„Pythonè™šæ‹Ÿç¯å¢ƒä»¥éš”ç¦»é¡¹ç›®ä¾èµ–ï¼š

```bash
# åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir autohedge-demo
cd autohedge-demo

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows:
venv\Scripts\activate
# macOS/Linux:
source venv/bin/activate
```

### 2. è®¾ç½®ç¯å¢ƒå˜é‡

åˆ›å»º`.env`æ–‡ä»¶å¹¶è®¾ç½®å¿…è¦çš„ç¯å¢ƒå˜é‡ï¼š

```bash
# åˆ›å»º.envæ–‡ä»¶
touch .env

# ç¼–è¾‘.envæ–‡ä»¶
echo "OPENAI_API_KEY=your_openai_api_key_here" >> .env
echo "WORKSPACE_DIR=agent_workspace" >> .env
```

**é‡è¦æç¤º**ï¼š
- æ›¿æ¢`your_openai_api_key_here`ä¸ºæ‚¨çš„å®é™…OpenAI APIå¯†é’¥
- å¦‚æœæ²¡æœ‰APIå¯†é’¥ï¼Œè¯·å…ˆæ³¨å†Œ[OpenAI](https://platform.openai.com/)è´¦æˆ·
- `WORKSPACE_DIR`æ˜¯AIä»£ç†çš„å·¥ä½œç©ºé—´ç›®å½•

### 3. éªŒè¯Pythonç‰ˆæœ¬

```bash
# æ£€æŸ¥Pythonç‰ˆæœ¬
python --version

# åº”è¯¥æ˜¾ç¤ºPython 3.10æˆ–æ›´é«˜ç‰ˆæœ¬
```

**èŠ‚æ¥æº**
- [README.md](file://README.md#L43-L48)

## å®‰è£…æ­¥éª¤

### æ–¹æ³•ä¸€ï¼šé€šè¿‡pipå®‰è£…ï¼ˆæ¨èï¼‰

```bash
# æ›´æ–°pipåˆ°æœ€æ–°ç‰ˆæœ¬
pip install --upgrade pip

# å®‰è£…AutoHedge
pip install autohedge
```

### æ–¹æ³•äºŒï¼šä»æºç å®‰è£…

å¦‚æœæ‚¨æƒ³ä»æºç å¼€å§‹ï¼š

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/The-Swarm-Corporation/AutoHedge.git
cd AutoHedge

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å®‰è£…åŒ…
pip install .
```

### éªŒè¯å®‰è£…

```bash
# æ£€æŸ¥å®‰è£…æ˜¯å¦æˆåŠŸ
python -c "import autohedge; print(autohedge.__version__)"

# åº”è¯¥æ˜¾ç¤ºç‰ˆæœ¬å·ï¼ˆå¦‚ï¼š0.1.0ï¼‰
```

**èŠ‚æ¥æº**
- [README.md](file://README.md#L37-L42)
- [requirements.txt](file://requirements.txt#L1-L8)

## åŸºç¡€ä½¿ç”¨

### ç¬¬ä¸€æ­¥ï¼šåˆå§‹åŒ–AutoHedgeå®ä¾‹

åˆ›å»ºä¸€ä¸ªç®€å•çš„Pythonè„šæœ¬æ¥æµ‹è¯•åŸºæœ¬åŠŸèƒ½ï¼š

```python
# åˆ›å»º test_autohedge.py æ–‡ä»¶
import os
from dotenv import load_dotenv
from autohedge import AutoHedge

# åŠ è½½ç¯å¢ƒå˜é‡
load_dotenv()

# åˆå§‹åŒ–äº¤æ˜“ç³»ç»Ÿ
stocks = ["NVDA", "TSLA", "MSFT", "GOOG"]
trading_system = AutoHedge(
    name="my-trading-fund",
    description="My Personal Trading Fund",
    stocks=stocks,
)

print("AutoHedgeç³»ç»Ÿåˆå§‹åŒ–æˆåŠŸï¼")
```

### ç¬¬äºŒæ­¥ï¼šå®šä¹‰äº¤æ˜“ä»»åŠ¡

```python
# ç»§ç»­åœ¨ test_autohedge.py ä¸­æ·»åŠ 
task = "è¯„ä¼°è¿™äº›ç§‘æŠ€è‚¡ï¼Œä¸º5000ä¸‡ç¾å…ƒçš„æŠ•èµ„ç»„åˆå¯»æ‰¾æœºä¼šï¼Œè¿½æ±‚å¹³è¡¡çš„é£é™©å›æŠ¥æ¯”ã€‚"

# è¿è¡Œäº¤æ˜“å¾ªç¯
print("æ­£åœ¨æ‰§è¡Œäº¤æ˜“åˆ†æ...")
results = trading_system.run(task=task)

print("\nåˆ†æç»“æœï¼š")
print(results)
```

### ç¬¬ä¸‰æ­¥ï¼šè¿è¡Œç¨‹åº

```bash
# åœ¨æ¿€æ´»çš„è™šæ‹Ÿç¯å¢ƒä¸­è¿è¡Œ
python test_autohedge.py
```

### é¢„æœŸè¾“å‡º

ç³»ç»Ÿå°†è¾“å‡ºç±»ä¼¼ä»¥ä¸‹å†…å®¹ï¼š

```
AutoHedgeç³»ç»Ÿåˆå§‹åŒ–æˆåŠŸï¼
æ­£åœ¨æ‰§è¡Œäº¤æ˜“åˆ†æ...
INFO:root:Starting trading cycle
INFO:root:Processing NVDA
INFO:root:Processing TSLA
INFO:root:Processing MSFT
INFO:root:Processing GOOG

åˆ†æç»“æœï¼š
[
    {
        "role": "Trading-Director",
        "content": "å…³äºNVDAçš„åˆ†ææŠ¥å‘Š...",
        "timestamp": "2024-01-01T12:00:00"
    },
    {
        "role": "Quant-Analyst",
        "content": "æŠ€æœ¯åˆ†æç»“æœï¼šNVDAçš„æŠ€æœ¯æŒ‡æ ‡æ˜¾ç¤º...",
        "timestamp": "2024-01-01T12:00:05"
    },
    ...
]
```

**èŠ‚æ¥æº**
- [example.py](file://example.py#L1-L22)
- [autohedge/main.py](file://autohedge/main.py#L422-L583)

## APIæœåŠ¡éƒ¨ç½²

### å¯åŠ¨APIæœåŠ¡å™¨

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹
python api/api.py
```

### éªŒè¯APIæœåŠ¡

```bash
# æ£€æŸ¥æœåŠ¡æ˜¯å¦å¯åŠ¨
curl http://localhost:8000/docs

# åº”è¯¥çœ‹åˆ°Swagger UIç•Œé¢
```

### ä½¿ç”¨APIçš„åŸºæœ¬æµç¨‹

#### 1. åˆ›å»ºç”¨æˆ·

```bash
# åˆ›å»ºæ–°ç”¨æˆ·
curl -X POST "http://localhost:8000/users" \
  -H "Content-Type: application/json" \
  -d '{
    "username": "trader1",
    "email": "trader@example.com",
    "fund_name": "My Trading Fund",
    "fund_description": "Personal trading strategy"
  }'
```

#### 2. åˆ›å»ºäº¤æ˜“ä»»åŠ¡

```bash
# è·å–APIå¯†é’¥åæ‰§è¡Œ
curl -X POST "http://localhost:8000/trades" \
  -H "X-API-Key: your_api_key_here" \
  -H "Content-Type: application/json" \
  -d '{
    "stocks": ["NVDA", "AAPL"],
    "task": "åˆ†æè¿™äº›è‚¡ç¥¨ï¼Œä¸º100ä¸‡ç¾å…ƒæŠ•èµ„ç»„åˆåˆ¶å®šç­–ç•¥",
    "allocation": 1000000.0
  }'
```

#### 3. æŸ¥çœ‹äº¤æ˜“å†å²

```bash
# è·å–äº¤æ˜“åˆ—è¡¨
curl -X GET "http://localhost:8000/trades?limit=10&skip=0" \
  -H "X-API-Key: your_api_key_here"
```

**èŠ‚æ¥æº**
- [api/api.py](file://api/api.py#L460-L476)
- [README.md](file://README.md#L333-L339)

## å¸¸è§é—®é¢˜è§£å†³

### 1. è®¤è¯å¤±è´¥

**é—®é¢˜**ï¼š`401: Invalid API key`

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥ç¯å¢ƒå˜é‡
echo $OPENAI_API_KEY

# æˆ–è€…æ£€æŸ¥.envæ–‡ä»¶ä¸­çš„é…ç½®
cat .env
```

**é”™è¯¯ä¿®å¤**ï¼š
- ç¡®ä¿è®¾ç½®äº†æ­£ç¡®çš„OpenAI APIå¯†é’¥
- æ£€æŸ¥å¯†é’¥æ ¼å¼æ˜¯å¦æ­£ç¡®
- ç¡®ä¿å¯†é’¥æœªè¿‡æœŸ

### 2. ä¾èµ–ç¼ºå¤±

**é—®é¢˜**ï¼š`ModuleNotFoundError: No module named 'autohedge'`

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# é‡æ–°å®‰è£…ä¾èµ–
pip install -r requirements.txt

# æˆ–è€…é‡æ–°å®‰è£…åŒ…
pip uninstall autohedge
pip install autohedge
```

### 3. å†…å­˜ä¸è¶³

**é—®é¢˜**ï¼š`MemoryError` æˆ–ç¨‹åºå´©æºƒ

**è§£å†³æ–¹æ¡ˆ**ï¼š
- å…³é—­å…¶ä»–åº”ç”¨ç¨‹åºé‡Šæ”¾å†…å­˜
- å‡å°‘åˆ†æçš„è‚¡ç¥¨æ•°é‡
- å¢åŠ ç³»ç»Ÿè™šæ‹Ÿå†…å­˜

### 4. ç½‘ç»œè¿æ¥é—®é¢˜

**é—®é¢˜**ï¼šæ— æ³•è¿æ¥åˆ°OpenAIæˆ–å…¶ä»–æœåŠ¡

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æµ‹è¯•ç½‘ç»œè¿æ¥
ping api.openai.com

# æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
# å°è¯•ä½¿ç”¨ä»£ç†ï¼ˆå¦‚æœéœ€è¦ï¼‰
export HTTP_PROXY=http://proxy.example.com:8080
export HTTPS_PROXY=https://proxy.example.com:8080
```

### 5. æƒé™é”™è¯¯

**é—®é¢˜**ï¼š`Permission denied` é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥æ–‡ä»¶æƒé™
ls -la

# ä¿®æ”¹æƒé™ï¼ˆå¦‚æœéœ€è¦ï¼‰
chmod +x script.py
```

## éªŒè¯å®‰è£…

### æ­¥éª¤1ï¼šåŸºç¡€åŠŸèƒ½æµ‹è¯•

```python
# åˆ›å»ºéªŒè¯è„šæœ¬
import autohedge
from autohedge import AutoHedge

# æµ‹è¯•å¯¼å…¥
print(f"AutoHedgeç‰ˆæœ¬: {autohedge.__version__}")

# æµ‹è¯•æ ¸å¿ƒåŠŸèƒ½
try:
    test_system = AutoHedge(stocks=["AAPL"])
    print("âœ“ AutoHedgeç±»å¯ä»¥æ­£å¸¸åˆå§‹åŒ–")
except Exception as e:
    print(f"âœ— åˆå§‹åŒ–å¤±è´¥: {e}")

# æµ‹è¯•è¿è¡Œ
try:
    result = test_system.run("æµ‹è¯•ä»»åŠ¡")
    print("âœ“ run()æ–¹æ³•å¯ä»¥æ­£å¸¸æ‰§è¡Œ")
except Exception as e:
    print(f"âœ— run()æ–¹æ³•å¤±è´¥: {e}")
```

### æ­¥éª¤2ï¼šAPIæœåŠ¡æµ‹è¯•

```bash
# æµ‹è¯•APIæœåŠ¡
curl -X GET "http://localhost:8000/docs" | head -20

# æ£€æŸ¥å“åº”çŠ¶æ€
if [ $? -eq 0 ]; then
    echo "âœ“ APIæœåŠ¡æ­£å¸¸è¿è¡Œ"
else
    echo "âœ— APIæœåŠ¡æœªå¯åŠ¨"
fi
```

### æ­¥éª¤3ï¼šç¯å¢ƒå˜é‡éªŒè¯

```bash
# æ£€æŸ¥å¿…éœ€çš„ç¯å¢ƒå˜é‡
echo "OpenAI API Key: ${OPENAI_API_KEY:+å·²è®¾ç½®}"
echo "Workspace Dir: ${WORKSPACE_DIR:-æœªè®¾ç½®}"

# éªŒè¯å·¥ä½œç©ºé—´ç›®å½•
if [ -d "$WORKSPACE_DIR" ]; then
    echo "âœ“ å·¥ä½œç©ºé—´ç›®å½•å­˜åœ¨"
else
    echo "âœ— å·¥ä½œç©ºé—´ç›®å½•ä¸å­˜åœ¨"
fi
```

**èŠ‚æ¥æº**
- [autohedge/__init__.py](file://autohedge/__init__.py#L1-L4)

## ä¸‹ä¸€æ­¥

### å­¦ä¹ èµ„æº

1. **å®˜æ–¹æ–‡æ¡£**ï¼šè®¿é—®[AutoHedgeæ–‡æ¡£](https://autohedge.readthedocs.io)
2. **ç¤ºä¾‹ä»£ç **ï¼šæŸ¥çœ‹`example.py`ä¸­çš„å®Œæ•´ç¤ºä¾‹
3. **APIå‚è€ƒ**ï¼šæ¢ç´¢`api/api.py`ä¸­çš„ç«¯ç‚¹å®šä¹‰
4. **ç¤¾åŒºæ”¯æŒ**ï¼šåŠ å…¥[Discordç¤¾åŒº](https://discord.gg/agora-999382051935506503)

### æ‰©å±•åŠŸèƒ½

- **è‡ªå®šä¹‰ç­–ç•¥**ï¼šä¿®æ”¹`DIRECTOR_PROMPT`å’Œ`QUANT_PROMPT`æ¥å®šåˆ¶åˆ†æé€»è¾‘
- **é£é™©å‚æ•°è°ƒæ•´**ï¼šä¿®æ”¹`RISK_PROMPT`ä¸­çš„é£é™©è¯„ä¼°è§„åˆ™
- **å¤šå¸‚åœºæ”¯æŒ**ï¼šæ‰©å±•æ”¯æŒæ›´å¤šäº¤æ˜“æ‰€å’Œèµ„äº§ç±»åˆ«
- **æ€§èƒ½ç›‘æ§**ï¼šé›†æˆæ›´è¯¦ç»†çš„å†å²æ•°æ®åˆ†æ

### ç”Ÿäº§éƒ¨ç½²

å½“å‡†å¤‡å¥½ç”Ÿäº§ç¯å¢ƒæ—¶ï¼š

```bash
# ä½¿ç”¨ç”Ÿäº§æœåŠ¡å™¨
uvicorn api.api:AutoHedgeAPI --host 0.0.0.0 --port 8000 --workers 4

# è®¾ç½®ç¯å¢ƒå˜é‡
export AUTOHEDGE_ENV=production
export AUTOHEDGE_LOG_LEVEL=INFO
```

### è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ï¼è¯·æŸ¥çœ‹[è´¡çŒ®æŒ‡å—](CONTRIBUTING.md)äº†è§£è¯¦æƒ…ã€‚

---

**å®Œæˆæ—¶é—´**ï¼šçº¦10åˆ†é’Ÿ

**ç¥æ‚¨åœ¨AutoHedgeçš„äº¤æ˜“ä¹‹æ—…ä¸­å–å¾—æˆåŠŸï¼** ğŸš€